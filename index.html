<!DOCTYPE html>
<html>

<head>
    <title>Image List</title>
</head>

<body>
    <h1>Images</h1>
    <ul id="image-list">
        <h2>WPF_INF_23/24</h2>
    </ul>

    <script>
        // Function to fetch and list image files along with creation dates
        async function listImages() {
            const response = await fetch('https://api.github.com/repos/zyr0z/img-host/contents/');
            const data = await response.json();

            const imageList = document.getElementById('image-list');
            data.forEach(item => {
                if (item.type === 'file' && item.name.match(/\.(jpg|jpeg|png|gif)$/)) {
                    const listItem = document.createElement('li');
                    const imageLink = document.createElement('a');
                    imageLink.href = `/${item.name}`;
                    imageLink.textContent = item.name;
                    listItem.appendChild(imageLink);

                    const sha_hash = item.sha;

                    const hashSpan = document.createElement('span');
                    hashSpan.textContent = ` Hash: ${sha_hash}`;

                    const hashStyle = hashSpan.style
                    hashStyle.position = "absolute"
                    hashStyle.paddingRight = '1rem'
                    hashStyle.left = '50%'

                    listItem.appendChild(hashSpan);


                    imageList.appendChild(listItem);
                }
            });
        }

        listImages();
    </script>
</body>

</html>